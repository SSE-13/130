var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var BodyPart = (function (_super) {
    __extends(BodyPart, _super);
    function BodyPart(source, x, y, width, height) {
        _super.call(this);
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
        this.source = source;
    }
    return BodyPart;
}(render.Bitmap));
var m_Character = new render.DisplayObjectContainer();
m_Character.x = 100;
m_Character.y = 100;
var m_Head = new BodyPart("head.png", 10, 0, 50, 50);
var m_Trunk = new BodyPart("trunk.png", 20, 40, 32, 40);
var m_LeftArm = new BodyPart("left_arm.png", 40, 45, 32, 40);
var m_RightArm = new BodyPart("right_arm.png", -1, 43, 32, 40);
var m_LeftLeg = new BodyPart("left_leg.png", 18, 71, 50, 50);
var m_RightLeg = new BodyPart("right_leg.png", 1, 70, 50, 50);
m_Character.addChild(m_Head);
m_Character.addChild(m_RightLeg);
m_Character.addChild(m_LeftLeg);
m_Character.addChild(m_Trunk);
m_Character.addChild(m_LeftArm);
m_Character.addChild(m_RightArm);
var renderCore = new render.RenderCore();
renderCore.start(m_Character, ["trunk.png", "left_arm.png", "right_arm.png", "left_leg.png", "right_leg.png", "head.png"]);
var m_CharacterBody = (function (_super) {
    __extends(m_CharacterBody, _super);
    function m_CharacterBody() {
        _super.apply(this, arguments);
        this.isMoving = true;
        this.direction = 1;
    }
    m_CharacterBody.prototype.onTicker = function (duringTime) {
        if (this.isMoving)
            this.rotation += this.direction * Math.PI * duringTime * 2.5;
    };
    return m_CharacterBody;
}(Body));
var ticker = new Ticker();
var body = new m_CharacterBody(m_Character);
body.x = 100;
body.y = 100;
body.rotation = 360;
ticker.start([body]);
var eventCore = new events.EventCore();
eventCore.init();
var HitTest = function (localPoint, displayObject) {
    return ((localPoint.x > 0 && localPoint.x <= m_Head.width) && (localPoint.y > 0 && localPoint.y <= m_Head.height));
};
var OnHeadClick = function () {
    if (body.isMoving) {
        body.direction *= -1;
    }
    else {
        body.isMoving = true;
    }
};
var OnLegClick = function () {
    body.rotation = 0;
    body.isMoving = false;
};
eventCore.register(m_Head, HitTest, OnHeadClick);
eventCore.register(m_RightLeg, HitTest, OnLegClick);
eventCore.register(m_LeftLeg, HitTest, OnLegClick);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FtZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImdhbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFLQTtJQUF1Qiw0QkFBYTtJQUVoQyxrQkFBWSxNQUFhLEVBQUUsQ0FBUSxFQUFFLENBQVEsRUFBRSxLQUFZLEVBQUUsTUFBYTtRQUN0RSxpQkFBTyxDQUFDO1FBQ1IsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDWCxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3pCLENBQUM7SUFDTCxlQUFDO0FBQUQsQ0FBQyxBQVZELENBQXVCLE1BQU0sQ0FBQyxNQUFNLEdBVW5DO0FBR0QsSUFBSSxXQUFXLEdBQUcsSUFBSSxNQUFNLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztBQUNsRCxXQUFXLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUNwQixXQUFXLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUV4QixJQUFJLE1BQU0sR0FBRyxJQUFJLFFBQVEsQ0FBQyxVQUFVLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDckQsSUFBSSxPQUFPLEdBQUcsSUFBSSxRQUFRLENBQUMsV0FBVyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ3hELElBQUksU0FBUyxHQUFHLElBQUksUUFBUSxDQUFDLGNBQWMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUM3RCxJQUFJLFVBQVUsR0FBRyxJQUFJLFFBQVEsQ0FBQyxlQUFlLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUs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